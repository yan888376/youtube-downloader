# 钰涵YouTube视频下载器 - 需求设计文档

## 1. 项目概述

### 1.1. 项目名称
钰涵YouTube视频下载

### 1.2. 项目目标
开发一个简洁、易用的在线工具网站。用户可以通过该网站，输入YouTube视频的URL地址，解析视频的详细信息（如封面、标题、描述等），并将其下载到自己的本地设备上。网站需要有良好的用户体验，包括实时下载进度显示和响应式设计。

---

## 2. 功能需求分析

### 2.1. 核心功能
- **视频URL输入**: 提供一个输入框，供用户粘贴YouTube视频URL。
- **视频信息解析**: 点击“解析视频”按钮后，向后端发送请求，获取并展示以下信息：
    - 封面大图
    - 视频标题
    - 视频描述
    - 上传日期
    - 文件大小
- **信息展示**: 将解析出的信息以清晰的表格形式呈现。
- **视频下载**: 提供“下载视频”按钮，用户点击后开始下载。
- **实时进度**: 在下载过程中，显示一个动态更新的进度条。
- **状态提示**: 下载完成后，给予用户明确的“下载成功”提示。
- **历史记录**: (可选，可在后续版本迭代) 在页面上展示最近的下载历史。

### 2.2. 页面元素
- **网页标题**: `钰涵YouTube视频下载`
- **页脚(Footer)**: `© 2025钰涵的YouTube视频下载器，仅供学习使用，联系人：钰涵，邮箱：1145114860@qq.com`
- **响应式设计**: 页面布局能自动适应不同尺寸的屏幕，如桌面电脑、平板和手机。

---

## 3. 技术架构选型

考虑到您是编程初学者，我推荐一套易于上手且功能强大的技术栈。

### 3.1. 前端 (Frontend) - 用户直接交互的界面
- **HTML (HyperText Markup Language)**: 用于搭建网页的基本结构。
- **CSS (Cascading Style Sheets)**: 用于美化页面样式。我们将结合 **Bootstrap** 框架来快速实现美观且响应式的布局，无需从零开始编写复杂的CSS代码。
- **JavaScript (JS)**: 用于实现页面的交互逻辑。例如，当用户点击按钮时，它会告诉浏览器向后端“请求”数据或“触发”下载。

### 3.2. 后端 (Backend) - 在服务器上处理逻辑的部分
- **Node.js**: 一个可以让JavaScript在服务器上运行的环境。这样我们前后端都可以使用同一种语言，降低学习成本。
- **Express.js**: 一个基于Node.js的Web应用框架。它能帮助我们快速搭建后端服务，处理来自前端的请求（比如解析视频URL的请求）。
- **ytdl-core**: 一个专门用于从YouTube下载视频和获取信息的Node.js库，是实现我们核心功能的关键。
- **Socket.IO**: 用于实现前后端之间的实时通信，这对于向用户浏览器推送下载进度至关重要。

### 3.3. 架构简图
```
用户浏览器 (前端)       <-- HTTP/Socket.IO -->       服务器 (后端)       <-- API -->       YouTube服务器
(HTML/CSS/JS)                               (Node.js/Express.js)
```

---

## 4. 实现步骤规划

我们将分步完成这个项目，确保每一步都清晰可控。

- **第一步：环境搭建与项目初始化**
    1.  创建项目文件夹结构。
    2.  初始化Node.js项目，生成`package.json`文件来管理项目依赖。
    3.  安装所有需要的后端库（`express`, `ytdl-core`, `socket.io`）。

- **第二步：后端服务器开发**
    1.  使用`Express.js`创建一个基础的Web服务器。
    2.  创建第一个API接口（例如 `/info`）:
        -   接收前端发来的YouTube URL。
        -   使用`ytdl-core`库获取视频信息。
        -   将信息整理后返回给前端。
    3.  创建第二个API接口（例如 `/download`）:
        -   接收前端发来的下载请求。
        -   使用`ytdl-core`获取视频文件流，并将其发送给用户进行下载。
    4.  集成`Socket.IO`，在下载过程中计算进度，并实时发送给前端。

- **第三步：前端页面开发**
    1.  编写`index.html`，搭建页面骨架，包括输入框、按钮、信息展示区和页脚。
    2.  引入`Bootstrap`框架，并编写少量`style.css`来实现页面的响应式和美化。
    3.  编写`script.js`来处理所有用户交互：
        -   监听“解析视频”按钮的点击事件，调用后端的`/info`接口，并等待返回数据。
        -   接收到数据后，动态地将视频信息填充到页面的表格中。
        -   监听“下载视频”按钮的点击，向后端的`/download`接口发起请求。
        -   使用`Socket.IO`客户端监听后端发来的进度事件，并更新页面上的进度条。

- **第四步：联调、测试与完善**
    1.  启动前端和后端服务，进行整体功能测试。
    2.  修复可能出现的Bug。
    3.  在不同设备或浏览器窗口大小下测试响应式布局效果。
    4.  优化用户体验。

---

## 5. 建议的文件结构

```
/youtube download/
|
|-- public/                # 存放所有前端静态文件
|   |-- index.html         # 网站主页面
|   |-- style.css          # 自定义样式文件
|   `-- script.js          # 前端交互逻辑
|
|-- node_modules/          # Node.js自动生成的依赖库存放目录
|
|-- server.js              # 后端服务器主文件
|-- package.json           # 项目配置文件和依赖列表
`-- 需求设计文档.md      # (本文件)
```

这份文档为我们的项目奠定了基础。如果您对这个计划有任何疑问或想调整的地方，请随时告诉我。确认后，我们就可以开始第一步：环境搭建了。
